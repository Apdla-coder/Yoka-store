<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>المتجر | Yoka Store</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Alexandria:wght@200;300;400;500;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <!-- Supabase JS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Supabase Client Configuration -->
  <script src="supabase-client.js"></script>
  <style>
    /* Shop Page Specific */
    .page-hero {
      padding: 8rem 0 4rem;
      background: linear-gradient(135deg, var(--blush) 0%, var(--lilac) 100%);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .page-hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image: radial-gradient(var(--rose-light) 1px, transparent 1px);
      background-size: 30px 30px;
      opacity: .3;
    }

    .page-hero-content {
      position: relative;
      z-index: 1;
    }

    .page-hero h1 {
      font-family: var(--font-display);
      font-size: clamp(3rem, 5vw, 5rem);
      font-weight: 300;
      color: var(--text-dark);
    }

    .page-hero h1 em {
      font-style: italic;
      color: var(--rose-dark);
    }

    .page-hero p {
      color: var(--text-mid);
      margin-top: .75rem;
      font-size: .95rem;
    }

    .shop-layout {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 3rem;
      padding: 4rem 0;
    }

    /* Sidebar */
    .sidebar {
      position: sticky;
      top: 100px;
      height: calc(100vh - 120px);
      overflow-y: auto;
      padding-bottom: 2rem;
      scrollbar-width: thin;
      scrollbar-color: var(--rose-light) transparent;
    }

    .sidebar::-webkit-scrollbar {
      width: 5px;
    }

    .sidebar::-webkit-scrollbar-track {
      background: transparent;
    }

    .sidebar::-webkit-scrollbar-thumb {
      background: var(--rose-light);
      border-radius: 10px;
    }

    .sidebar-section {
      margin-bottom: 2.5rem;
    }

    .sidebar-title {
      font-size: .72rem;
      font-weight: 700;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: var(--text-dark);
      margin-bottom: 1.25rem;
      padding-bottom: .75rem;
      border-bottom: 1px solid var(--cream-2);
    }

    .sidebar-list {
      list-style: none;
    }

    .sidebar-list li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: .5rem 0;
      cursor: none;
    }

    .sidebar-list label {
      display: flex;
      align-items: center;
      gap: .75rem;
      font-size: .88rem;
      color: var(--text-mid);
      cursor: none;
      transition: color var(--transition);
    }

    .sidebar-list label:hover {
      color: var(--rose-dark);
    }

    .sidebar-list input[type="checkbox"] {
      appearance: none;
      width: 16px;
      height: 16px;
      border: 1.5px solid var(--rose-light);
      border-radius: 4px;
      cursor: none;
      transition: all var(--transition);
      flex-shrink: 0;
    }

    .sidebar-list input:checked {
      background: var(--rose-dark);
      border-color: var(--rose-dark);
    }

    .sidebar-count {
      font-size: .72rem;
      color: var(--text-light);
    }

    /* Price Range */
    .price-range {
      display: flex;
      align-items: center;
      gap: .75rem;
    }

    .price-range input[type="number"] {
      width: 80px;
      padding: .45rem .7rem;
      border: 1.5px solid var(--cream-2);
      border-radius: var(--radius-sm);
      font-family: var(--font-body);
      font-size: .82rem;
      color: var(--text-dark);
      outline: none;
      transition: border-color var(--transition);
    }

    .price-range input:focus {
      border-color: var(--rose-dark);
    }

    /* Color swatches */
    .color-swatches {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .color-swatch {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: none;
      transition: transform var(--transition), border-color var(--transition);
    }

    .color-swatch:hover {
      transform: scale(1.2);
    }

    .color-swatch.active {
      border-color: var(--text-dark);
    }

    /* Shop Top Bar */
    .shop-topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
      padding-bottom: 1.25rem;
      border-bottom: 1px solid var(--cream-2);
    }

    .shop-count {
      font-size: .85rem;
      color: var(--text-mid);
    }

    .shop-sort {
      display: flex;
      align-items: center;
      gap: .75rem;
      font-size: .85rem;
    }

    .sort-select {
      padding: .45rem 1rem;
      border: 1.5px solid var(--cream-2);
      border-radius: var(--radius-sm);
      font-family: var(--font-body);
      font-size: .82rem;
      color: var(--text-dark);
      outline: none;
      cursor: none;
      transition: border-color var(--transition);
    }

    .sort-select:focus {
      border-color: var(--rose-dark);
    }

    .view-toggle {
      display: flex;
      gap: .4rem;
    }

    .view-btn {
      padding: .4rem .65rem;
      border: 1.5px solid var(--cream-2);
      border-radius: var(--radius-sm);
      font-size: .7rem;
      color: var(--text-mid);
      transition: all var(--transition);
      cursor: none;
    }

    .view-btn.active {
      border-color: var(--noir);
      background: var(--noir);
      color: white;
    }

    /* Products Grid in shop page */
    .shop-products-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
    }

    .shop-products-grid.view-list {
      grid-template-columns: 1fr;
    }

    .shop-products-grid.view-list .product-card {
      display: grid;
      grid-template-columns: 200px 1fr;
      gap: 1.5rem;
    }

    .shop-products-grid.view-list .product-card-img {
      aspect-ratio: 1;
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      gap: .5rem;
      margin-top: 3.5rem;
    }

    .page-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1.5px solid var(--cream-2);
      font-family: var(--font-body);
      font-size: .85rem;
      color: var(--text-mid);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition);
      cursor: none;
    }

    .page-btn.active,
    .page-btn:hover {
      background: var(--noir);
      border-color: var(--noir);
      color: white;
    }

    .shop-active-filters {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      min-height: 2rem;
    }

    .shop-active-filters .filter-tag {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      background: var(--rose-light);
      color: var(--rose-dark);
      padding: .35rem .85rem;
      border-radius: var(--radius-full);
      font-size: .78rem;
      font-weight: 600;
      cursor: pointer;
    }

    .shop-empty {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-mid);
      font-size: 1.1rem;
    }

    @media (max-width: 768px) {
      .shop-layout {
        grid-template-columns: 1fr;
      }

      .sidebar {
        position: static;
      }

      .shop-products-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>

<body>

  <div class="cursor" id="cursor"></div>
  <div class="cursor-dot" id="cursorDot"></div>

  <nav class="nav scrolled" id="nav">
    <div class="nav-left">
      <button class="nav-menu-btn" id="menuBtn"><span></span><span></span><span></span></button>
      <ul class="nav-links">
        <li><a href="shop.html" style="color:var(--rose-dark)">المتجر</a></li>
        <li><a href="makeup.html">ميك أب</a></li>
        <li><a href="fashion.html">أزياء</a></li>
        <li><a href="collections.html">المجموعات</a></li>
      </ul>
    </div>
    <a href="index.html" class="nav-logo"><span class="logo-y">Y</span>oka</a>
    <div class="nav-right">
      <button class="nav-icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="1.5">
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.35-4.35" />
        </svg></button>
      <button class="nav-icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="1.5">
          <path
            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
        </svg></button>
      <a href="cart.html" class="nav-icon cart-icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="1.5">
          <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
          <line x1="3" y1="6" x2="21" y2="6" />
          <path d="M16 10a4 4 0 0 1-8 0" />
        </svg><span class="cart-badge">0</span></a>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-inner">
      <button class="mobile-menu-close" id="menuClose">✕</button>
      <nav class="mobile-nav">
        <a href="shop.html" class="mobile-nav-link">المتجر</a>
        <a href="makeup.html" class="mobile-nav-link">ميك أب</a>
        <a href="fashion.html" class="mobile-nav-link">أزياء</a>
        <a href="collections.html" class="mobile-nav-link">المجموعات</a>
        <a href="about.html" class="mobile-nav-link">من نحن</a>
        <a href="contact.html" class="mobile-nav-link">تواصلي معنا</a>
      </nav>
      <div class="mobile-menu-footer">
        <p>@yokastore</p>
      </div>
    </div>
  </div>

  <!-- Page Hero -->
  <section class="page-hero">
    <div class="page-hero-content">
      <div class="section-tag">Yoka Store</div>
      <h1>تسوقي <em>كل شيء</em></h1>
      <p>أكثر من ٥٠٠ منتج من الميك أب والأزياء والعناية</p>
    </div>
  </section>

  <!-- Breadcrumb -->
  <div class="container" style="padding-top:1.5rem;">
    <nav style="font-size:.8rem;color:var(--text-light);display:flex;gap:.5rem;align-items:center;">
      <a href="index.html" style="color:var(--text-light);transition:color .3s"
        onmouseenter="this.style.color='var(--rose-dark)'"
        onmouseleave="this.style.color='var(--text-light)'">الرئيسية</a>
      <span>›</span>
      <span style="color:var(--rose-dark)">المتجر</span>
    </nav>
  </div>

  <!-- Main Shop -->
  <div class="container">
    <div class="shop-layout">

      <!-- Sidebar -->
      <aside class="sidebar">
        <!-- Categories -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">الفئات</h3>
          <ul class="sidebar-list" id="sidebarCategories"></ul>
        </div>

        <!-- Price -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">السعر</h3>
          <div class="price-range">
            <input type="number" id="priceMin" value="0" min="0" max="5000" placeholder="من" />
            <span style="color:var(--text-light)">—</span>
            <input type="number" id="priceMax" value="5000" min="0" max="5000" placeholder="إلى" />
          </div>
        </div>

        <!-- Colors -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">الألوان</h3>
          <div class="color-swatches" id="sidebarColors"></div>
        </div>

        <!-- Brand -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">البراند</h3>
          <ul class="sidebar-list" id="sidebarBrands"></ul>
        </div>

        <!-- Rating -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">التقييم</h3>
          <ul class="sidebar-list">
            <li><label><input type="radio" name="rating" value="5" /> <span style="color:var(--gold)">★★★★★</span>
                فقط</label></li>
            <li><label><input type="radio" name="rating" value="4" checked /> <span
                  style="color:var(--gold)">★★★★</span> وأكثر</label></li>
            <li><label><input type="radio" name="rating" value="3" /> <span style="color:var(--gold)">★★★</span>
                وأكثر</label></li>
            <li><label><input type="radio" name="rating" value="0" /> الكل</label></li>
          </ul>
        </div>

        <button class="btn-primary" id="applyFilters" style="width:100%;justify-content:center">تطبيق الفلاتر</button>
        <button class="btn-outline" id="clearFilters" style="width:100%;justify-content:center;margin-top:.75rem">مسح
          الفلاتر</button>
      </aside>

      <!-- Products Section -->
      <main>
        <!-- Top Bar -->
        <div class="shop-topbar">
          <span class="shop-count" id="shopCount">جاري التحميل...</span>
          <div class="shop-sort">
            <span style="font-size:.82rem;color:var(--text-mid)">ترتيب:</span>
            <select class="sort-select" id="sortSelect">
              <option value="newest">الأحدث</option>
              <option value="price_asc">السعر: من الأقل</option>
              <option value="price_desc">السعر: من الأعلى</option>
              <option value="rating">الأعلى تقييماً</option>
            </select>
            <div class="view-toggle">
              <button class="view-btn active" data-view="grid">▦</button>
              <button class="view-btn" data-view="list">▤</button>
            </div>
          </div>
        </div>

        <!-- Active Filters -->
        <div class="shop-active-filters" id="activeFilters"></div>

        <!-- Products Grid -->
        <div class="shop-products-grid" id="shopGrid"></div>

        <!-- Pagination -->
        <div class="pagination" id="pagination"></div>
      </main>
    </div>
  </div>

  <!-- Quick View Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="quickViewModal">
      <button class="modal-close" id="modalClose">✕</button>
      <div class="modal-content" id="modalContent"></div>
    </div>
  </div>

  <footer class="footer" style="margin-top:0">
    <div class="container">
      <div class="footer-bottom" style="padding-top:0;border:none">
        <p>© ٢٠٢٥ Yoka Store. جميع الحقوق محفوظة. <a href="admin.html"
            style="color:var(--text-light);font-size:.8rem;margin-right:1rem">لوحة التحكم</a></p>
        <div class="footer-payments">
          <span>Visa</span><span>Mastercard</span><span>Mada</span><span>Apple Pay</span>
        </div>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
  <script src="cart-manager.js"></script>
  <script src="shop.js"></script>
</body>

</html>